<div class="container">
  <nav class="navbar navbar-expand-lg navbar-light navbar-giggoers w-100">
    <div class="container">
      <div class="row m-0 align-items-center">
        <!-- Logo -->
        <div class="col-3 d-flex align-items-center justify-content-start">
          <%= link_to "/", class: "navbar-brand d-flex align-items-center" do %>
            <%= image_tag "logo.png", class: 'logo' %>
          <% end %>
        </div>

        <!-- Nome do Aplicativo -->
        <div class="col-6 text-center d-flex flex-column align-items-center justify-content-center">
          <%= link_to "/", class: "text-decoration-none text-dark d-flex flex-column align-items-center" do %>
            <h1 class="app-title mb-1">GigGoers</h1>
            <p class="app-subtitle m-0 mb-2">Você no lugar quando a música começar!</p>
          <% end %>
        </div>

        <!-- Ícone do Usuário -->
        <div class="col-3 d-flex justify-content-end align-items-start pe-0">
          <% if user_signed_in? %>
            <%= link_to user_profile_path, class: "d-flex align-items-center text-decoration-none" do %>
              <% if current_user && current_user.avatar.attached? %>
                <%= image_tag current_user.avatar.variant(resize_to_fill: [60, 60]).processed,
                              class: "rounded-circle border border-primary",
                              alt: "Perfil" %>
              <% else %>
                <i class="fas fa-user-circle" style="font-size: 60px; color: #ED4E4E;"></i> <!-- Ajuste do tamanho do ícone -->
              <% end %>

            <% end %>
          <% else %>
            <%= link_to new_user_session_path, class: "btn btn-login rounded-pill" do %>
              <i class="fas fa-user-circle" style="font-size: 50px; color: #ED4E4E;"></i>
            <% end %>
          <% end %>
        </div>




        <div class="row w-100 m-0">
     <div class="col-12 position-relative">
       <%= form_with url: events_path, method: :get, class: "d-flex" do |form| %>
         <div class="input-group">
           <%= form.text_field :query,
               value: params[:query],
               id: "search-query",
               class: "rounded-pill me-2 flex-grow-1 py-2",
               placeholder: (user_signed_in? ? "   Olá #{current_user.name}, qual o seu plano?" : '   Qual o seu plano?') %>
               <%= form.button type: 'submit',
               class: 'btn btn-warning rounded-circle position-absolute end-0 top-50 translate-middle-y',
               name: nil do %>
             <i class="bi bi-search"></i>
           <% end %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </nav>
</div>
