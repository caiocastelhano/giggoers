<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header text-center bg-light rounded-corner">
          <h2 class="text-dark">Meu Perfil</h2>
        </div>
        <div class="card-body text-center pb-5">

          <!-- Exibir Avatar -->
          <div class="text-center mb-4">
            <% if @user.avatar.attached? %>  <!-- Use @user em vez de resource -->
              <%= image_tag @user.avatar.variant(resize_to_fill: [150, 150]),
                            class: "img-thumbnail rounded-circle mb-3",
                            alt: "Foto de Perfil" %>
            <% else %>
              <i class="fas fa-user-circle" style="font-size: 150px; color: white;"></i>
            <% end %>
          </div>


          <!-- Informações do Usuário -->
          <h3 class="mt-3" style="color: white;"><%= @user.name %></h3>
          <p class="text-muted"><%= @user.email %></p>

          <!-- Link para Editar Perfil -->
          <%= link_to 'Editar Perfil', edit_user_registration_path, class: "btn btn-primary mt-3 corner-rounded" %>

          <!-- Botão de Logout -->
          <div class="mt-3">
            <%= form_with url: destroy_user_session_path, method: :delete do %>
              <%= submit_tag 'Sair', class: "btn btn-danger corner-rounded" %>
            <% end %>
          </div>

          <!-- Botão para Cancelar Conta -->
          <div class="mt-4">
            <%= button_to 'Cancelar minha conta',
                          cancel_account_path,
                          method: :delete,
                          data: { confirm: 'Tem certeza de que deseja cancelar sua conta? Esta ação não pode ser desfeita.' },
                          class: "btn btn-outline-danger corner-rounded" %>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
